# 并发编程最新面试题，2021年面试题及答案汇总

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、四种线程池的创建：

**1、** newCachedThreadPool创建一个可缓存线程池

**2、** newFixedThreadPool 创建一个定长线程池，可控制线程最大并发数。

**3、** newScheduledThreadPool 创建一个定长线程池，支持定时及周期性任务执行。

**4、** newSingleThreadExecutor 创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务。


### 2、JVM 提供的常用工具

**jps：**

用来显示本地的 Java 进程，可以查看本地运行着几个 Java 程序，并显示他们的进程号。 命令格式：jps

**jinfo：**

运行环境参数：Java System 属性和 JVM 命令行参数，Java class path 等信息。 命令格式：jinfo 进程 pid

**jstat：**

监视虚拟机各种运行状态信息的命令行工具。 命令格式：jstat -gc 123 250 20

**jstack：**

可以观察到 JVM 中当前所有线程的运行情况和线程当前状态。 命令格式：jstack 进程 pid

**jmap：**

观察运行中的 JVM 物理内存的占用情况（如：产生哪些对象，及其数量）。 命令格式：jmap [option] pid


### 3、你知道哪些故障处理工具？

**jps：虚拟机进程状况工具**

功能和 ps 命令类似：可以列出正在运行的虚拟机进程，显示虚拟机执行主类名称以及这些进程的本地虚拟机唯一 ID（LVMID)。LVMID 与操作系统的进程 ID（PID）一致，使用 Windows 的任务管理器或 UNIX 的 ps 命令也可以查询到虚拟机进程的 LVMID，但如果同时启动了多个虚拟机进程，必须依赖 jps 命令。

**jstat：虚拟机统计信息监视工具**

用于监视虚拟机各种运行状态信息。可以显示本地或远程虚拟机进程中的类加载、内存、垃圾收集、即时编译器等运行时数据，在没有 GUI 界面的服务器上是运行期定位虚拟机性能问题的常用工具。

参数含义：S0 和 S1 表示两个 Survivor，E 表示新生代，O 表示老年代，YGC 表示 Young GC 次数，YGCT 表示 Young GC 耗时，FGC 表示 Full GC 次数，FGCT 表示 Full GC 耗时，GCT 表示 GC 总耗时。

**jinfo：Java 配置信息工具**

实时查看和调整虚拟机各项参数，使用 jps 的 -v 参数可以查看虚拟机启动时显式指定的参数，但如果想知道未显式指定的参数值只能使用 jinfo 的 -flag 查询。

**jmap：Java 内存映像工具**

用于生成堆转储快照，还可以查询 finalize 执行队列、Java 堆和方法区的详细信息，如空间使用率，当前使用的是哪种收集器等。和 jinfo 一样，部分功能在 Windows 受限，除了生成堆转储快照的 -dump 和查看每个类实例的 -histo 外，其余选项只能在 Linux 使用。

**jhat：虚拟机堆转储快照分析工具**

JDK 提供 jhat 与 jmap 搭配使用分析 jmap 生成的堆转储快照。jhat 内置了一个微型的 HTTP/Web 服务器，生成堆转储快照的分析结果后可以在浏览器查看。

**jstack：Java 堆栈跟踪工具**

用于生成虚拟机当前时刻的线程快照。线程快照就是当前虚拟机内每一条线程正在执行的方法堆栈的集合，生成线程快照的目的通常是定位线程出现长时间停顿的原因，如线程间死锁、死循环、请求外部资源导致的长时间挂起等。线程出现停顿时通过 jstack 查看各个线程的调用堆栈，可以获知没有响应的线程在后台做什么或等什么资源。


### 4、形成死锁的四个必要条件是什么

**1、** 互斥条件：在一段时间内某资源只由一个进程占用。如果此时还有其它进程请求资源，就只能等待，直至占有资源的进程用毕释放。

**2、** 占有且等待条件：指进程已经保持至少一个资源，但又提出了新的资源请求，而该资源已被其它进程占有，此时请求进程阻塞，但又对自己已获得的其它资源保持不放。

**3、** 不可抢占条件：别人已经占有了某项资源，你不能因为自己也需要该资源，就去把别人的资源抢过来。

**4、** 循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关系。（比如一个进程集合，A在等B，B在等C，C在等A）


### 5、运行时栈帧包含哪些结构？

**1、** 局部变量表

**2、** 操作数栈

**3、** 动态连接

**4、** 返回地址

**5、** 附加信息


### 6、不可变对象对多线程有什么帮助

前面有提到过的一个问题，不可变对象保证了对象的内存可见性，对不可变对象的读取不需要进行额外的同步手段，提升了代码执行效率。


### 7、线上常用的 JVM 参数有哪些？

**数据区设置**

**1、** Xms：初始堆大小

**2、** Xmx：最大堆大小

**3、** Xss:Java 每个线程的Stack大小

**4、** XX:NewSize=n：设置年轻代大小

**5、** XX:NewRatio=n：设置年轻代和年老代的比值。如：为 3，表示年轻代与年老代比值为 1:3，年轻代占整个年轻代年老代和的 1/4。

**6、** XX：SurvivorRatio=n：年轻代中 Eden 区与两个 Survivor 区的比值。注意 Survivor 区有两个。如：3，表示 Eden：Survivor=3：2，一个 Survivor 区占整个年轻代的 1/5。

**7、** XX：MaxPermSize=n：设置持久代大小。

**收集器设置**

**1、** XX:+UseSerialGC：设置串行收集器

**2、** XX:+UseParallelGC:：设置并行收集器

**3、** XX:+UseParalledlOldGC：设置并行年老代收集器

**4、** XX:+UseConcMarkSweepGC：设置并发收集器

**GC日志打印设置**

**1、** XX:+PrintGC：打印 GC 的简要信息

**2、** XX:+PrintGCDetails：打印 GC 详细信息

**3、** XX:+PrintGCTimeStamps：输出 GC 的时间戳


### 8、什么是线程调度器(Thread Scheduler)和时间分片(Time Slicing )？

**1、** 线程调度器是一个操作系统服务，它负责为 Runnable 状态的线程分配 CPU 时间。一旦我们创建一个线程并启动它，它的执行便依赖于线程调度器的实现。

**2、** 时间分片是指将可用的 CPU 时间分配给可用的 Runnable 线程的过程。分配 CPU 时间可以基于线程优先级或者线程等待的时间。

**3、** 线程调度并不受到 Java 虚拟机控制，所以由应用程序来控制它是更好的选择（也就是说不要让你的程序依赖于线程的优先级）。


### 9、为什么要使用并发编程

**1、** 提升多核CPU的利用率：一般来说一台主机上的会有多个CPU核心，我们可以创建多个线程，理论上讲操作系统可以将多个线程分配给不同的CPU去执行，每个CPU执行一个线程，这样就提高了CPU的使用效率，如果使用单线程就只能有一个CPU核心被使用。

**2、** 比如当我们在网上购物时，为了提升响应速度，需要拆分，减库存，生成订单等等这些操作，就可以进行拆分利用多线程的技术完成。面对复杂业务模型，并行程序会比串行程序更适应业务需求，而并发编程更能吻合这种业务拆分 。

**简单来说就是：**

**1、** 充分利用多核CPU的计算能力；

**2、** 方便进行业务拆分，提升应用性能


### 10、MinorGC，MajorGC、FullGC都什么时候发生？

MinorGC在年轻代空间不足的时候发生，MajorGC指的是老年代的GC，出现MajorGC一般经常伴有MinorGC。

FullGC有三种情况。

**1、** 当老年代无法再分配内存的时候

**2、** 元空间不足的时候

**3、** 显示调用System.gc的时候。另外，像CMS一类的垃圾回收器，在MinorGC出现promotion failure的时候也会发生FullGC


### 11、你平时工作中用过的JVM常用基本配置参数有哪些？
### 12、invokedynamic 指令是干什么的？
### 13、线程与进程的区别？
### 14、你熟悉哪些垃圾收集算法？
### 15、如何判断一个类是无用的类?
### 16、字符串常量存放在哪个区域？
### 17、什么是FutureTask?使用ExecutorService启动任务。
### 18、死锁的原因
### 19、ZGC 了解吗？
### 20、Java会存在内存泄漏吗？请简单描述。
### 21、什么情况下会发生栈溢出？
### 22、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？
### 23、线程池作用？
### 24、并发队列和并发集合的区别：
### 25、什么是线程死锁
### 26、ThreadPoolExecutor饱和策略有哪些？
### 27、Java 中垃圾收集的方法有哪些
### 28、线程之间如何通信及线程之间如何同步
### 29、在老年代-标记整理算法
### 30、62、volatile 变量和 atomic 变量有什么不同？
### 31、四种构建线程池的区别及特点？
### 32、对象分配内存是否线程安全？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
